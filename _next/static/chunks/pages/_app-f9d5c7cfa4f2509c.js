(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(6719)}])},1582:function(t,e,n){"use strict";n.d(e,{X:function(){return u}});let u="https://api.budget.lambcode.net"},6005:function(t,e,n){"use strict";n.d(e,{R:function(){return s},Z:function(){return a}});var u=n(5893),r=n(7294),o=n(1582),c=n(1163);let s=(0,r.createContext)(null);function a(t){let{children:e}=t,[n,a]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{a(Date.now())},[a]),[l,f]=(0,r.useState)(!1),d=(0,r.useCallback)(()=>{f(!0)},[f]),[h,_]=(0,r.useState)({expenseAccounts:[],budgets:{},refresh:i,setNextRefreshToWait:d}),p=(0,c.useRouter)(),{route:g}=p;return(0,r.useEffect)(()=>{let t=localStorage.getItem("password");async function e(){let e=l?"?waitForInProgress=true":"",n=await fetch("".concat(o.X,"/summary")+e,{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify(h),credentials:"include"});401===n.status&&p.push("/login"),n.ok&&(_({...await n.json(),refresh:i,setNextRefreshToWait:d}),f(!1))}"/login"!==g&&e()},[_,n,p,g,i,l]),(0,u.jsx)(s.Provider,{value:h,children:e})}},6719:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return a}});var u=n(5893);n(3465);var r=n(6005),o=n(7294),c=n(1582),s=n(1163);function a(t){let{Component:e,pageProps:n}=t,a=(0,s.useRouter)();return(0,o.useEffect)(()=>{let t=localStorage.getItem("password");fetch("".concat(c.X,"/is_logged_in"),{headers:{Authorization:"Bearer ".concat(t)},method:"GET",credentials:"include"}).then(t=>{401===t.status&&a.push("/login")})},[]),(0,u.jsx)(r.Z,{children:(0,u.jsx)(e,{...n})})}},3465:function(){},1163:function(t,e,n){t.exports=n(3035)}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return e(1118),e(3035)}),_N_E=t.O()}]);